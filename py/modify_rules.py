# æ–‡ä»¶è·¯å¾„
file_path = "cfg/Custom_Clash.ini"

def modify_rules():
    with open(file_path, "r", encoding="utf-8") as f:
        content = f.read()

    # æ·»åŠ "åŸç”ŸIP"èŠ‚ç‚¹ç»„
    content = content.replace(
        "custom_proxy_group=ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`url-test`(è¶Šå—|Vietnam)`https://cp.cloudflare.com/generate_204`300,,50",
        "custom_proxy_group=ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`url-test`(è¶Šå—|Vietnam)`https://cp.cloudflare.com/generate_204`300,,50"
        +"\ncustom_proxy_group=ğŸ‡ºğŸ‡³ åŸç”ŸIP`url-test`(å®¶å®½)`https://cp.cloudflare.com/generate_204`300,,50"
    )

    # æ·»åŠ "åŸç”ŸIP"èŠ‚ç‚¹ç»„åˆ°å„èŠ‚ç‚¹ç»„
    content = content.replace(
        "`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹",
        "`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP"
    )

    #æ·»åŠ  EHentai èŠ‚ç‚¹ç»„å¹¶æ›´æ”¹ChatGPTçš„é»˜è®¤èŠ‚ç‚¹
    content = content.replace(
        "custom_proxy_group=ğŸ’¬ ChatGPT`select`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*",
        "custom_proxy_group=ğŸ’¬ ChatGPT`select`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*"
        +"\ncustom_proxy_group=ğŸ” EHentai(EXHentai)`select`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    )

    #æ›´æ”¹æ¼ç½‘ä¹‹é±¼ç­–ç•¥ç»„é»˜è®¤èŠ‚ç‚¹ä¸ºå…¨çƒç›´è¿
    content = content.replace(
        "custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`.*",
        "custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*"
    )

    #æ·»åŠ  Pixiv èŠ‚ç‚¹ç»„
    content = content.replace(
        "custom_proxy_group=ğŸ’¬ ChatGPT`select`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*",
        "custom_proxy_group=ğŸ’¬ ChatGPT`select`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*"
        +"\ncustom_proxy_group=ğŸ…¿ï¸ Pixiv`select`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`[]ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹`[]ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹`[]ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹`[]ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹`[]ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹`[]ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡³ åŸç”ŸIP`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*"
    )

    # æ·»åŠ  EHentai è§„åˆ™é›†
    content = content.replace(
        "ruleset=ğŸ’¬ ChatGPT,[]GEOSITE,openai",
        "ruleset=ğŸ’¬ ChatGPT,[]GEOSITE,openai"
        +"\nruleset=ğŸ” EHentai(EXHentai),https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/EHGallery/EHGallery.list,28800"
        +"\nruleset=ğŸ” EHentai(EXHentai),[]GEOSITE,ehentai"
    )

    #æ·»åŠ  Pixiv è§„åˆ™é›†
    content = content.replace(
        "ruleset=ğŸ’¬ ChatGPT,[]GEOSITE,openai",
        "ruleset=ğŸ’¬ ChatGPT,[]GEOSITE,openai"
        +"\nruleset=ğŸ…¿ï¸ Pixiv,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Pixiv/Pixiv.list,28800"
        +"\nruleset=ğŸ…¿ï¸ Pixiv,[]GEOSITE,pixiv"
    )

    # å†™å…¥æ–‡ä»¶2
    with open(file_path, "w", encoding="utf-8") as f:
        f.write(content)

if __name__ == "__main__":
    modify_rules()
    print(f"File '{file_path}' has been modified.")